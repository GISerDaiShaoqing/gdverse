---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "##",
  fig.path = "man/figures/README-",
  out.width = "100%",
  warning = FALSE,
  message = FALSE
)
```

# gdverse <img src="man/figures/logo.png" align="right" height="120"/>

<!-- badges: start -->

[![CRAN](https://www.r-pkg.org/badges/version/gdverse)](https://CRAN.R-project.org/package=gdverse) [![r-universe](https://ausgis.r-universe.dev/badges/gdverse)](https://ausgis.r-universe.dev/gdverse)

<!-- badges: end -->

**Family of Geographical Detector Models In R**

## Overview

Current models and functions provided by **gdverse** are:

| *geodetector model* | *gdverse function* | *support status* |
|---------------------|--------------------|------------------|
| **GD**              | `gd()`             | ✔️               |
| **OPGD**            | `opgd()`           | ✔️               |
| **GOZH**            | `gozh()`           | ✔️               |
| **LESH**            | `lesh()`           | ✔️               |
| **SPADE**           | `spade()`          | ✔️               |
| **IDSA**            | `idsa()`           | ✔️               |
| **RGD**             | `rgd()`            | ✔️               |
| **RID**             | `rid()`            | ✔️               |
| **SRSGD**           | `srsgd()`          | ✔️               |

```{r echo=FALSE, out.width='100%', fig.align="center",fig.cap="Development of Geographical Detector Models"}
knitr::include_graphics('./man/figures/gdm.png')
```

```{r echo=FALSE, out.width='95%', fig.align="center",fig.cap="Function organization in gdverse package"}
knitr::include_graphics('./man/figures/gdverse_funs.png')
```

## Installation

- Install from [CRAN](https://CRAN.R-project.org/package=gdverse) with:

``` r
install.packages("gdverse", dep = TRUE)
```

- Install development binary version from [r-universe](https://ausgis.r-universe.dev/gdverse) with:

``` r
install.packages('gdverse',
                 repos = c("https://ausgis.r-universe.dev",
                           "https://cloud.r-project.org"),
                 dep = TRUE)
```

- Install development source version from [GitHub](https://github.com/ausgis/gdverse) with:

``` r
# install.packages("devtools")
devtools::install_github("ausgis/gdverse",
                         build_vignettes = TRUE,
                         dep = TRUE)
```

Please ensure that **Rcpp** is properly installed and the appropriate **C++** compilation environment is configured in advance if you want to install **gdverse** from github.

## Example

```{r example_gdverse}
library(gdverse)
data("ndvi")
ndvi
```

### OPGD model

```{r}
ndvi_opgd = opgd(NDVIchange ~ ., data = ndvi, 
                 discvar = names(ndvi)[-1:-3],
                 cores = 6, type ='factor')
ndvi_opgd
```

### GOZH model

```{r}
g = gozh(NDVIchange ~ ., data = ndvi)
g
```
